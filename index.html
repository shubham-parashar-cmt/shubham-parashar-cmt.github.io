<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Sleek single-file academic site for GitHub Pages → Pathak Shubham Parashar -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pathak Shubham Parashar — Academic Profile</title>
  <meta name="description" content="Academic homepage for Pathak Shubham Parashar (UC San Diego): research, publications, teaching, talks, contact." />
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='18' fill='%230f172a'/><text x='50' y='60' font-family='Arial, sans-serif' font-size='48' text-anchor='middle' fill='%2322d3ee'>PS</text></svg>">
  <style>
    /* =====================
       Design tokens
       ===================== */
    :root{
      --bg: #070b14;          /* deep slate */
      --panel: #0c1220;       /* card base */
      --panel-2:#0e162a;      /* card deep */
      --muted:#9fb0c8;        /* text muted */
      --text:#e8edf4;         /* text base */
      --line:#1c2742;         /* borders */
      --accent:#22d3ee;       /* cyan */
      --accent-2:#7c83ff;     /* indigo */
      --ring: rgba(124,131,255,.28);
      --radius:18px;
      --shadow: 0 10px 36px rgba(0,0,0,.35);
      --w: 1100px;
      --grad: radial-gradient(60% 90% at 20% 10%, rgba(124,131,255,.18), transparent 60%),
              radial-gradient(40% 70% at 90% 20%, rgba(34,211,238,.18), transparent 60%),
              radial-gradient(50% 80% at 60% 120%, rgba(34,211,238,.1), transparent 60%);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f7fafc; --panel:#ffffff; --panel-2:#ffffff; --muted:#475569; --text:#0f172a; --line:#e5e7eb; --accent:#0891b2; --accent-2:#4f46e5; --ring:rgba(79,70,229,.18); --grad: radial-gradient(60% 90% at 20% 10%, rgba(79,70,229,.10), transparent 60%), radial-gradient(40% 70% at 90% 20%, rgba(8,145,178,.10), transparent 60%); }
    }

    /* =====================
       Base
       ===================== */
    *{box-sizing:border-box}
    html,body{margin:0}
    body{font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif; background:var(--bg); color:var(--text); background-image:var(--grad)}
    .wrap{max-width:var(--w); margin:0 auto; padding:24px}
    a{color:var(--accent); text-decoration:none}
    a:hover{filter:brightness(1.08)}
    .card{background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, transparent), color-mix(in oklab, var(--panel-2) 96%, transparent)); border:1px solid color-mix(in oklab, var(--text) 10%, transparent); border-radius:var(--radius); padding:22px; box-shadow:var(--shadow)}
    h1{font-size:clamp(32px, 4vw, 52px); margin:0 0 10px; letter-spacing:.2px}
    h2{font-size:clamp(22px, 2.6vw, 32px); margin:8px 0 14px}
    h3{font-size:18px; margin:8px 0}
    p{margin:10px 0}
    .muted{color:var(--muted)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace}

    /* =====================
       Header / Nav
       ===================== */
    header{position:sticky; top:0; z-index:40; backdrop-filter:saturate(120%) blur(6px)}
    nav{display:flex; align-items:center; justify-content:space-between; gap:14px; background:color-mix(in oklab, var(--panel) 86%, transparent); border:1px solid color-mix(in oklab, var(--text) 12%, transparent); padding:10px 14px; border-radius:14px}
    .brand{display:flex; align-items:center; gap:12px; color:var(--text); text-decoration:none}
    .avatar{width:44px; height:44px; border-radius:50%; border:2px solid color-mix(in oklab, var(--accent) 60%, var(--accent-2) 40%); object-fit:cover; object-position:center; background:linear-gradient(135deg, var(--accent), var(--accent-2))}
    .brand .name{font-weight:800}
    .navlinks{display:flex; gap:10px; flex-wrap:wrap}
    .navlinks a{color:var(--muted); padding:6px 10px; border-radius:10px; position:relative}
    .navlinks a:hover,.navlinks a:focus{color:var(--text); background:color-mix(in oklab, var(--ring) 85%, transparent)}
    .navlinks a.active::after{content:''; position:absolute; left:10px; right:10px; bottom:3px; height:2px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); border-radius:2px}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:12px; border:1px solid color-mix(in oklab, var(--text) 12%, transparent); color:var(--text); background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 76%, transparent), color-mix(in oklab, var(--panel) 92%, transparent))}
    .btn:hover{outline:3px solid var(--ring)}

    /* Progress bar */
    .progress{position:fixed; inset:0 0 auto 0; height:3px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); transform-origin:0 50%; transform:scaleX(0); z-index:50}

    /* =====================
       Hero
       ===================== */
    .hero{margin:28px 0 10px; display:grid; grid-template-columns:1.2fr .8fr; gap:22px}
    .tagline{color:var(--muted); font-size:clamp(14px, 1.4vw, 16px)}
    .chips{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
    .chip{font-size:12px; padding:4px 10px; border-radius:999px; border:1px solid color-mix(in oklab, var(--text) 12%, transparent); color:var(--muted); box-shadow:0 1px 0 rgba(0,0,0,.2)}

    /* Accent heading bar */
    .section-title{display:flex; align-items:center; gap:10px}
    .bar{flex:0 0 10px; height:10px; border-radius:20px; background:linear-gradient(90deg, var(--accent), var(--accent-2))}

    /* =====================
       Sections
       ===================== */
    .grid{display:grid; grid-template-columns:repeat(12, 1fr); gap:18px}
    .col-7{grid-column:span 7}
    .col-5{grid-column:span 5}
    .split{display:grid; grid-template-columns:1fr 1fr; gap:16px}

    .pub{padding:14px; border-left:3px solid color-mix(in oklab, var(--accent) 60%, var(--accent-2) 40%); background:color-mix(in oklab, var(--panel) 94%, transparent); border-radius:12px}
    .pub small{color:var(--muted)}
    .pub-actions{margin-top:6px; display:flex; gap:10px; flex-wrap:wrap}

    .input{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--line); background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 95%, transparent), color-mix(in oklab, var(--panel-2) 98%, transparent)); color:var(--text)}

    footer{margin:44px 0 10px; color:var(--muted); text-align:center}
    .footlinks{display:flex; justify-content:center; gap:14px; flex-wrap:wrap}

    /* Floating back-to-top */
    .to-top{position:fixed; right:18px; bottom:18px; z-index:40; opacity:0; pointer-events:none; transition:opacity .25s ease}
    .to-top.show{opacity:1; pointer-events:auto}

    /* Mobile */
    @media (max-width: 880px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .col-7,.col-5{grid-column:1/-1}
      .split{grid-template-columns:1fr}
      .navlinks{display:none}
    }
      /* ===== Talks badges ===== */
    .talks{display:grid; gap:12px}
    .talk{padding:12px; border-radius:12px; border:1px solid var(--line); background:color-mix(in oklab, var(--panel) 94%, transparent)}
    .badge{display:inline-block; font-size:12px; padding:3px 9px; border-radius:999px; border:1px solid var(--line); color:var(--muted); background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 96%, transparent), color-mix(in oklab, var(--panel-2) 98%, transparent))}
    .badge-year{color:#ffffff; font-weight:700; border-color:color-mix(in oklab, var(--accent-2) 40%, transparent); background:linear-gradient(90deg, var(--accent), var(--accent-2))}
    .badge-venue{border-color:color-mix(in oklab, var(--text) 14%, transparent)}
      /* === Fancy aurora background & subtle motion === */
    body::before, body::after{content:""; position:fixed; inset:auto; pointer-events:none; z-index:-1; filter:blur(60px); opacity:.35}
    body::before{width:55vw; height:55vh; left:-10vw; top:-6vh; background:radial-gradient(closest-side, color-mix(in oklab, var(--accent) 24%, transparent), transparent 60%); animation:drift1 22s ease-in-out infinite alternate}
    body::after{width:50vw; height:50vh; right:-15vw; top:10vh; background:radial-gradient(closest-side, color-mix(in oklab, var(--accent-2) 24%, transparent), transparent 60%); animation:drift2 26s ease-in-out infinite alternate}
    @keyframes drift1{from{transform:translate(-4%, -2%) rotate(0)} to{transform:translate(8%, 4%) rotate(18deg)}}
    @keyframes drift2{from{transform:translate(4%, 6%) rotate(0)} to{transform:translate(-6%, -4%) rotate(-16deg)}}

    /* === Card polish === */
    .card{transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 16px 44px rgba(0,0,0,.45); border-color:color-mix(in oklab, var(--accent) 24%, var(--line))}

    /* === Headline gradient (subtle) === */
    .hero h1{background:linear-gradient(90deg, var(--text) 0%, color-mix(in oklab, var(--text) 80%, var(--accent) 20%) 50%, color-mix(in oklab, var(--text) 70%, var(--accent-2) 30%) 100%); -webkit-background-clip:text; background-clip:text; color:transparent}

    /* === Buttons glow === */
    .btn:hover{box-shadow:0 0 0 3px var(--ring) inset}
      /* ===== Awards cards ===== */
    .awards{display:grid; gap:12px}
    .award{padding:12px; border-radius:12px; border:1px solid var(--line); background:color-mix(in oklab, var(--panel) 94%, transparent)}
      /* === Hero portrait image === */
    .hero-portrait{width:100%; aspect-ratio:4/5; object-fit:cover; border-radius:calc(var(--radius) - 6px); border:1px solid color-mix(in oklab, var(--accent) 18%, var(--line)); box-shadow:0 14px 36px rgba(0,0,0,.35); display:block}
    .hero-portrait+figcaption{margin-top:6px}
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Pathak Shubham Parashar",
    "affiliation": {"@type":"Organization","name":"UC San Diego"},
    "jobTitle": "Researcher",
    "email": "mailto:psparash@ucsd.edu",
    "url": "https://shubham-parashar-cmt.github.io/",
    "sameAs": [
      "https://github.com/shubham-parashar-cmt"
    ]
  }
  </script>
  <link rel="preload" as="image" href="resume_headshot_square.jpg"></head>
<body>
  <div class="progress" id="progress"></div>
  <a href="#main" class="mono" style="position:absolute; left:-10000px">Skip to content</a>
  <header class="wrap" role="banner">
    <nav aria-label="Primary">
      <a class="brand" href="#top">
        <img src="resume_headshot_square.jpg" alt="Portrait of Pathak Shubham Parashar" class="avatar" loading="eager" decoding="async">
        <span class="name">Pathak Shubham Parashar</span>
      </a>
      <div class="navlinks" id="navlinks">
        <a href="#about">About</a>
        <a href="#research">Research</a>
        <a href=\"#publications\">Publications</a>
        <a href=\"#awards\">Awards</a>
        <a href=\"#teaching\">Teaching</a>
        <a href="#talks">Talks</a>
        <a href="#contact">Contact</a>
      </div>
      <button class="btn" id="styleBtn" aria-label="Cycle accent palette">🎨 Style</button>
      <button class="btn" id="themeBtn" aria-label="Toggle theme">🌗 Theme</button>
    </nav>
  </header>

  <main id="main" class="wrap" role="main">
    <!-- HERO -->
    <section class="hero" id="top">
      <div class="card">
        <h1>Pathak Shubham Parashar</h1>
        <p class="tagline">Researcher @ <strong>UC San Diego</strong>. I study electron transport in 2D systems — hydrodynamic ↔ diffusive crossovers, vorticity near inhomogeneities, and figure‑driven computational methods.</p>
        <div class="chips" aria-label="Research areas">
          <span class="chip">Magneto-transport</span>
          <span class="chip">Hydrodynamics</span>
          <span class="chip">2D Electron Systems</span>
          <span class="chip">Asymptotics & WKB</span>
        </div>
        <div style="height:12px"></div>
        <div class="chips">
          <a class="btn" href="mailto:psparash@ucsd.edu">Email</a>
          <a class="btn" href="cv.pdf">CV (PDF)</a>
          <a class="btn" href="https://github.com/shubham-parashar-cmt" target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
      <aside class="card" aria-label="At a glance">
        <div class="section-title"><span class="bar"></span><h2 style="margin:0">At a Glance</h2></div>
        <ul>
          <li>Department of Physics, UC San Diego</li>
          <li>Focus: hydrodynamic–diffusive crossover; magnetotransport</li>
          <li>Contact: <a href="mailto:psparash@ucsd.edu">psparash@ucsd.edu</a></li>
        </ul>
        <div style="height:10px"></div>
        <div class="section-title"><span class="bar"></span><h2 style="margin:0">News</h2></div>
        <div class="timeline" id="news">
          <div class="pub"><strong>Sep 2025</strong> — Manuscripts in preparation on hydrodynamic magnetotransport, graphene crossover imaging, and quantum Hall spin-splitting.</div>
          <div class="pub"><strong>2025</strong> — Ongoing collaborations at UC San Diego.</div>
        </div>
      </aside>
    </section>

    <!-- ABOUT -->
    <section id="about" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">About</h2></div>
      <p>
        I study <strong>quantum Hall physics in higher Landau levels</strong>,
        <strong>magneto-transport in high magnetic fields</strong>, and
        <strong>itinerant phases in correlated two-dimensional systems</strong>. I also pursue
        exploratory work on <strong>in-spiral black hole mergers in D &gt; 5 dimensions</strong>, drawing connections between
        condensed-matter transport, effective field theory, and gravitational dynamics where appropriate.
      </p>
      <p>
        My approach blends analytical methods (field theory, kinetic/semiclassical techniques), targeted numerical
        modeling, and publication-grade visualization. I am currently with the Department of Physics at UC San Diego and
        collaborate across condensed-matter and theory groups.
      </p>
    </section>

    <!-- RESEARCH -->
    <section id="research" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Research</h2></div>
      <div class="grid">
        <div class="col-7">
          <h3>Selected Topics</h3>
          <ul>
            <li>Quantum Hall physics in higher Landau levels</li>
            <li>Magneto-transport in high magnetic fields</li>
            <li>Itinerant phases in correlated two-dimensional systems</li>
            <li>In-spiral black hole merger in D &gt; 5 dimensions</li>
          </ul>
        </div>
        <div class="col-5">
          <h3>Resources</h3>
          <ul>
            <li><a href="#publications">Preprints & papers</a></li>
            <li><a href="#talks">Slides & talks</a></li>
            <li><a href="#contact">Collaboration & advising</a></li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PUBLICATIONS -->
    <section id="publications" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Publications (in preparation)</h2></div>
      <input id="pubSearch" class="input" placeholder="Filter by keyword (e.g., hydrodynamic, graphene, 2025)…" aria-label="Filter publications" />
      <div id="pubList" style="margin-top:14px; display:grid; gap:12px"></div>
      <p class="mono muted" style="margin-top:10px">Add Google Scholar / ORCID here when ready.</p>
    </section>

    <!-- AWARDS -->
    <section id="awards" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Awards & Grants</h2></div>
      <div class="awards">
        <div class="award">
          <div class="chips"><span class="badge badge-year">2025</span></div>
          <div><strong>Bhadra Fellowship</strong></div>
        </div>
        <div class="award">
          <div class="chips"><span class="badge badge-year">2018–2020</span></div>
          <div><strong>NSF Grant</strong> <span class="muted">(2018–2020)</span></div>
        </div>
        <div class="award">
          <div class="chips"><span class="badge badge-year">2017</span></div>
          <div><strong>UCSD Scholar's grant</strong></div>
        </div>
      </div>
    </section>

    <!-- TEACHING -->
    <section id="teaching" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Teaching</h2></div>
      <div class="split">
        <div>
          <h3>Instructor / TA</h3>
          <ul>
            <li>PHYS 123 — Fluid Dynamics (Fall 2024)</li>
            <li>PHYS 201 — Electromagnetism (Spring 2024)</li>
          </ul>
        </div>
        <div>
          <h3>Mentoring</h3>
          <ul>
            <li>Undergraduate research projects (2023–2025)</li>
            <li>Graduate reading group on hydrodynamic transport</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- TALKS -->
    <section id="talks" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Talks & Presentations</h2></div>
      <div class="talks">
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2025</span><span class="badge badge-venue">APS March Meeting</span></div>
          <div><strong>Hydrodynamic & diffusive magneto-transport near local inhomogeneities</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2024</span><span class="badge badge-venue">UCSD Condensed Matter Seminar</span></div>
          <div><strong>Vorticity patterns around obstacles in 2D systems</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2023</span><span class="badge badge-venue">UC San Diego</span></div>
          <div><strong>Spin-split collapse in higher Landau levels</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2022</span><span class="badge badge-venue">Columbia University, NY</span></div>
          <div><strong>Vorticity patterns</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2020</span><span class="badge badge-venue">APS March Meeting</span></div>
          <div><strong>Magneto-transport across local inhomogeneities</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2019</span><span class="badge badge-venue">APS March Meeting</span></div>
          <div><strong>Non-associative operators inspired from string theory</strong></div>
        </div>
        <div class="talk">
          <div class="chips"><span class="badge badge-year">2018</span><span class="badge badge-venue">UC Irvine</span></div>
          <div><strong>Quantum double models in icosahedral structures</strong></div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="card">
      <div class="section-title"><span class="bar"></span><h2 style="margin:0">Contact</h2></div>
      <p>Email: <a href="mailto:psparash@ucsd.edu">psparash@ucsd.edu</a> · GitHub: <a href="https://github.com/shubham-parashar-cmt">@shubham-parashar-cmt</a></p>
    </section>

    <footer>
      <div class="footlinks">
        <a href="#top">Back to top</a>
        <span>·</span>
        <a href="cv.pdf">CV</a>
      </div>
      <p>© <span id="year"></span> Pathak Shubham Parashar. Single-file site on GitHub Pages.</p>
    </footer>
  </main>

  <a href="#top" class="btn to-top" id="toTop" aria-label="Back to top">↑ Top</a>

  <script>
    // Theme toggle with localStorage
    const themeBtn = document.getElementById('themeBtn');
    const stored = localStorage.getItem('theme') || 'auto';
    if(stored !== 'auto') document.documentElement.dataset.theme = stored;
    themeBtn.addEventListener('click', () => {
      const cur = document.documentElement.dataset.theme || 'dark';
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.dataset.theme = next; localStorage.setItem('theme', next);
    });

    // Style palettes (cycle accents)
    const palettes = [
      ['#22d3ee','#7c83ff'], // cyan / indigo (default)
      ['#10b981','#a78bfa'], // emerald / violet
      ['#f59e0b','#f43f5e'], // amber / rose
      ['#14b8a6','#06b6d4']  // teal / cyan
    ];
    const styleBtn = document.getElementById('styleBtn');
    let pIndex = parseInt(localStorage.getItem('paletteIndex')||'0',10);
    function applyPalette(i){
      const [a,b] = palettes[i % palettes.length];
      const r = document.documentElement;
      r.style.setProperty('--accent', a);
      r.style.setProperty('--accent-2', b);
      localStorage.setItem('paletteIndex', (i % palettes.length).toString());
    }
    applyPalette(pIndex);
    styleBtn && styleBtn.addEventListener('click', ()=>{ pIndex = (pIndex+1) % palettes.length; applyPalette(pIndex); });

    // Publications data
    const publications = [
      {
        authors: 'P. Shubham Parashar, M. M. Fogler',
        title: 'Hydrodynamic and diffusive magneto-transport near a density perturbation in a two-dimensional electron gas',
        venue: 'in preparation', year: 2025,
        links: { },
        bibtex: `@unpublished{parashar2025hydrodiff,
  title={Hydrodynamic and diffusive magneto-transport near a density perturbation in a two-dimensional electron gas},
  author={Parashar, P. Shubham and Fogler, M. M.},
  note={in preparation},
  year={2025}
}`,
        tags: ['hydrodynamic','magnetotransport','2DEG']
      },
      {
        authors: 'Zachary J. Krebs, Wyatt A. Behn, Keenan J. Smith, Margaret A. Fortman, Kenji Watanabe, Takashi Taniguchi, Pathak S. Parashar, Michael M. Fogler, Victor W. Brar',
        title: 'Imaging diffusive-to-ballistic crossover of magnetotransport in graphene',
        venue: 'in preparation', year: 2025,
        links: { },
        bibtex: `@unpublished{krebs2025imaging,
  title={Imaging diffusive-to-ballistic crossover of magnetotransport in graphene},
  author={Krebs, Zachary J. and Behn, Wyatt A. and Smith, Keenan J. and Fortman, Margaret A. and Watanabe, Kenji and Taniguchi, Takashi and Parashar, Pathak S. and Fogler, Michael M. and Brar, Victor W.},
  note={in preparation},
  year={2025}
}`,
        tags: ['graphene','ballistic','diffusive','magnetotransport']
      },
      {
        authors: 'Pathak S. Parashar, D. P. Arovas, M. M. Fogler',
        title: 'Thermodynamics of the spin-splitting transition in quantum Hall effect',
        venue: 'in preparation', year: 2025,
        links: { },
        bibtex: `@unpublished{parashar2025qhe,
  title={Thermodynamics of the spin-splitting transition in quantum Hall effect},
  author={Parashar, Pathak S. and Arovas, D. P. and Fogler, M. M.},
  note={in preparation},
  year={2025}
}`,
        tags: ['quantum Hall','spin-splitting','thermodynamics']
      },
      {
        authors: 'Zi Cai, Pathak S. Parashar, Congjun Wu',
        title: 'Symplectic ferromagnetism and phase transitions in multi-component fermionic systems',
        venue: 'in preparation', year: 2025,
        links: { },
        bibtex: `@unpublished{cai2025symplectic,
  title={Symplectic ferromagnetism and phase transitions in multi-component fermionic systems},
  author={Cai, Zi and Parashar, Pathak S. and Wu, Congjun},
  note={in preparation},
  year={2025}
}`,
        tags: ['symplectic','ferromagnetism','multicomponent','fermions']
      }
    ];

    const pubList = document.getElementById('pubList');
    const pubSearch = document.getElementById('pubSearch');

    function renderPubs(filter=''){
      pubList.innerHTML = '';
      const f = filter.toLowerCase();
      publications
        .filter(p => !f || p.title.toLowerCase().includes(f) || p.authors.toLowerCase().includes(f) || p.tags.join(' ').toLowerCase().includes(f) || String(p.year).includes(f))
        .sort((a,b) => b.year - a.year)
        .forEach(p => {
          const el = document.createElement('article');
          el.className = 'pub';
          el.innerHTML = `
            <div><strong>${p.title}</strong> <small>(${p.year})</small></div>
            <div>${p.authors}</div>
            <div class="muted">${p.venue}</div>
            <div class="pub-actions">
              <button class="btn mono" data-bib>Copy BibTeX</button>
            </div>
            <div class="chips" style="margin-top:6px">${p.tags.map(t=>`<span class=\"chip\">${t}</span>`).join('')}</div>
          `;
          el.querySelector('[data-bib]').addEventListener('click', () => {
            navigator.clipboard.writeText(p.bibtex).then(()=>{
              const btn = el.querySelector('[data-bib]');
              const txt = btn.textContent; btn.textContent = 'Copied!';
              setTimeout(()=> btn.textContent = txt, 1200);
            });
          });
          pubList.appendChild(el);
        });
    }
    renderPubs();
    pubSearch.addEventListener('input', (e)=> renderPubs(e.target.value));

    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Scroll progress, back-to-top visibility, and scrollspy
    const progress = document.getElementById('progress');
    const toTop = document.getElementById('toTop');
    const navlinks = [...document.querySelectorAll('#navlinks a')];
    const sections = navlinks.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const scrolled = h.scrollTop / (h.scrollHeight - h.clientHeight);
      progress.style.transform = `scaleX(${scrolled})`;
      toTop.classList.toggle('show', h.scrollTop > 900);
    });

    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        const id = '#' + e.target.id;
        const link = navlinks.find(a => a.getAttribute('href') === id);
        if(link){ link.classList.toggle('active', e.isIntersecting && e.intersectionRatio > 0.6); }
      });
    },{threshold:[0.6]});
    sections.forEach(s => s && obs.observe(s));
  </script>
</body>
</html>
